# Рабочие заметки

У меня есть круглый LCD дисплей, купленный на [Aliexpress](https://aliexpress.ru/item/1005004299158714.html?spm=a2g2w.orderdetail.0.0.3ccf4aa6fNwOE1&sku_id=12000028675133727). Там же есть ссылка для скачивания каких-то [файлов для работы с ним]([http://pan.jczn1688.com/directlink/1/SPI%20%20display%20module/1.28inch_SPI_Module_GC9A01.zip](http://pan.jczn1688.com/directlink/1/SPI%20%20display%20module/1.28inch_SPI_Module_GC9A01.zip)), но что с ними делать мне не понятно.

С сайта waveshare.com я скачал [файлы для связи дисплея с Arduino](https://www.waveshare.com/wiki/1.28inch_LCD_Module). В принципе там же есть файлы для подключения его к Raspberry Pi и STM32. Размеры дисплеев разные. И, кажется, вообще не важно, круглый он или нет.

## Спецификация

Круглый модуль ЖК-дисплея TFT.  
Размер: 1,28 дюйма на 1,28 дюйма,  
разрешение 240x240,  
GC9A01 драйвер,  
4-проводной интерфейс SPI,  
Номер модели JC2424S012N.

## Подключение

На сайте waveshare есть схема подключения к Raspberry Pi, STM32 и Arduino UNO. Где-то в интернете я нашел схему подключения дисплеев по SPI к Adruino Mega. В таблице изменю названия и порядок, чтобы соответствовал моему дисплею.

| LCD       | UNO | MEGA | Назначение |
| ---       | --- | ---- | ---------- |
| VCC       | 5V  | 3V3  | |
| GND       | GND | GND  | |
| CS        | D10 | D10  | |
| RST       | D8  | D8   | |
| A0 (DC)   | D7  | D7   | |
| SDA (DIN) | D11 | 52   | |
| SCK (CLK) | D13 | 51   | |
| LED (BL)  | D9  | D9   | |

Сперва я подключил всё напрямую, но экран оказался блеклым. Тогда я нашел совет - подключить всё через резисторы, это помогло. Как я понял, дисплей работает на 3.3 В. Резисторы я выбрал наугад (не с первого раза) и установил их на всё, кроме питания и земли. Для питания и 5 В подошло, но я всё же поставил 3.3 В, разницы не видно.

В файле DEV_config.h есть настройки для пинов GPIO.
```cpp
#define DEV_CS_PIN  10
#define DEV_DC_PIN  7
#define DEV_RST_PIN 8
#define DEV_BL_PIN  9
```

А вот для SDA и SCK выбрать пины нельзя. И мне не понятно, почему используются 52 и 51, если на плате Arduino Mega есть 20 и 21 специально для этого, вроде как.
